{
  "scope": [
    "src/**/*.ts",
    "dashboard/src/**/*.{ts,tsx}",
    "public/app.js"
  ],
  "generatedAt": "2026-02-27",
  "resolved": [
    {
      "id": "CC-003",
      "summary": "public app stream handling now uses dispatch-map handlers"
    },
    {
      "id": "CC-004",
      "summary": "prompt rotation pipeline duplication removed via shared helpers"
    },
    {
      "id": "CC-006",
      "summary": "vote-spam stale cleanup duplication removed"
    },
    {
      "id": "CC-008",
      "summary": "phase entry boilerplate consolidated with beginPhase helper"
    },
    {
      "id": "CC-009",
      "summary": "session mutation error mapping centralized"
    },
    {
      "id": "CC-010",
      "summary": "phase timing literals replaced with named constants"
    },
    {
      "id": "CC-012",
      "summary": "dashboard SSE reconnect delay constant extracted"
    },
    {
      "id": "CC-013",
      "summary": "tx:any removed; transaction cast centralized via helper"
    },
    {
      "id": "CC-014",
      "summary": "ambiguous dashboard response variable renamed"
    },
    {
      "id": "CC-015",
      "summary": "component timing literals extracted to constants"
    },
    {
      "id": "CC-016",
      "summary": "coding conventions document added and linked from README"
    }
  ],
  "issues": [
    {
      "id": "CC-001R",
      "type": "Function Issues",
      "principle": "Small Functions + SRP",
      "location": "src/server.ts",
      "severity": "Medium",
      "issue": "createServerApp still coordinates env parsing, guard lifecycle, composition, and recovery flow in one startup function.",
      "suggestion": "Extract createRuntimeConfig(...) and resumeInterruptedSessions(...), keeping createServerApp primarily as wiring glue."
    },
    {
      "id": "CC-007R",
      "type": "Function Issues",
      "principle": "Small Functions + SRP",
      "location": "src/court/phases/session-flow.ts",
      "severity": "Medium",
      "issue": "runWitnessExamPhase still combines witness-loop orchestration with recap generation/persistence/TTS side effects.",
      "suggestion": "Extract runWitnessCycle(...) and emitRecapIfDue(...) helpers to isolate responsibilities."
    },
    {
      "id": "CC-011R",
      "type": "Config Drift Risk",
      "principle": "Avoid Hardcoding Drift",
      "location": "src/court/catchup.ts, public/app.js",
      "severity": "Medium",
      "issue": "Catch-up max char cap is independently defined in backend and public runtimes.",
      "suggestion": "Promote to one shared config source consumed by both runtime surfaces."
    },
    {
      "id": "CC-005R",
      "type": "Over-Engineering",
      "principle": "YAGNI",
      "location": "src/court/prompt-bank.ts",
      "severity": "Low",
      "issue": "selectNextPrompt remains unused in workspace and now primarily exists for compatibility.",
      "suggestion": "Remove in a planned cleanup release after external usage confirmation."
    },
    {
      "id": "CC-013R",
      "type": "Typing Ergonomics",
      "principle": "Consistency",
      "location": "src/store/session-store.ts",
      "severity": "Low",
      "issue": "One transaction type cast remains inside the centralized helper due postgres callback/type-call-signature mismatch.",
      "suggestion": "Keep centralized unless upstream typings or wrapper abstraction allows full removal without type regressions."
    }
  ]
}
